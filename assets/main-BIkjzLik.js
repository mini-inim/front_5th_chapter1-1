import{M as n,E as i,e as u,b as l,a as g,L as r,P as c,s as d}from"./mainPage-CoTaktZB.js";const t=()=>{d.isLogin=!!localStorage.getItem("user"),document.querySelector("#root").innerHTML=p(),document.body.removeEventListener("submit",a),document.body.removeEventListener("click",s),document.body.addEventListener("submit",a),document.body.addEventListener("click",s)},a=e=>{e.preventDefault(),e.target.id==="profile-form"&&u(),e.target.id==="login-form"&&(l(),history.pushState(null,"","/"),t())},s=e=>{if(e.target.tagName==="A"){e.preventDefault();const o=e.target.href.replace(location.origin,"");e.target.id==="logout"?(g(),history.pushState(null,"","/login"),t()):history.pushState(null,"",o),t()}},m={"/":()=>n(),"/login":()=>JSON.parse(localStorage.getItem("user")||"{}").username?(history.pushState(null,"","/"),n()):r(),"/profile":()=>JSON.parse(localStorage.getItem("user")||"{}").username?c():(history.pushState(null,"","/login"),r())},p=()=>{const e=window.location.pathname;return(m[e]||(()=>i()))()};t();window.addEventListener("popstate",t);
