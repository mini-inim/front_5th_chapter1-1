import{M as o,E as u,e as l,b as c,a as g,L as n,P as m,s as d}from"./mainPage-CoTaktZB.js";const t=()=>{d.isLogin=!!localStorage.getItem("user"),document.querySelector("#root").innerHTML=h(),document.body.removeEventListener("submit",a),document.body.removeEventListener("click",r),document.body.addEventListener("submit",a),document.body.addEventListener("click",r)},a=e=>{e.preventDefault(),e.target.id==="profile-form"&&l(),e.target.id==="login-form"&&(c(),history.pushState(null,"","/"),t())},r=e=>{if(e.target.tagName==="A"){e.preventDefault();const i=location.pathname.replace(/\/[^/]*$/,"")+e.target.pathname;e.target.id==="logout"?(g(),history.pushState(null,"","/login"),t()):history.pushState(null,"",i),t()}},p={"/":()=>o(),"/login":()=>JSON.parse(localStorage.getItem("user")||"{}").username?(history.pushState(null,"","/"),o()):n(),"/profile":()=>JSON.parse(localStorage.getItem("user")||"{}").username?m():(history.pushState(null,"","/login"),n())},h=()=>{const e=window.location.pathname;return(p[e]||(()=>u()))()};t();window.addEventListener("popstate",t);
